# Coach Up AI API (.env.example)
# Copy to .env and fill with real values or set in your host

# Server
PORT=8001
LOG_LEVEL=info

# Auth (Core -> AI)
SERVICE_SHARED_SECRET=
# or Clerk verification
CLERK_ISSUER_URL=
CLERK_AUDIENCE=

# Providers (placeholders)
OPENAI_API_KEY=
ANTHROPIC_API_KEY=
GEMINI_API_KEY=

# Observability (optional)
OTEL_EXPORTER_OTLP_ENDPOINT=

# Classifier & Worker (SPR-002)
# Confidence thresholds
CLASSIFIER_CONF_ACCEPT=0.7
CLASSIFIER_CONF_LOW=0.4
# Feature flag to disable LLM classifier (fallback to heuristics only)
DISABLE_CLASSIFIER=0
# Worker/runtime tuning
WORKER_CONCURRENCY=2
ASSESSMENTS_MAX_RETRIES=3
ASSESSMENTS_BACKOFF_BASE_MS=200
ASSESSMENT_COOLDOWN_MS=10000

# Durable Queue (SQS FIFO) â€” Feature flag and config
# Enable SQS-backed queue instead of in-memory
USE_SQS=0
# Required when USE_SQS=1
AWS_REGION=us-east-1
# Example FIFO queue URL (AWS or LocalStack). Must end with .fifo for FIFO queues
# AWS_SQS_QUEUE_URL=https://sqs.us-east-1.amazonaws.com/123456789012/coach-up-assessments.fifo
AWS_SQS_QUEUE_URL=
# For local development with LocalStack
# e.g. http://localhost:4566
AWS_ENDPOINT_URL_SQS=
# Credentials (needed for AWS or LocalStack)
AWS_ACCESS_KEY_ID=test
AWS_SECRET_ACCESS_KEY=test

# Optional persistence hook (server-to-server HTTP callback)
# If set, the background worker will POST latest summaries to this URL.
# Example (Next.js UI route that writes to Convex):
#   PERSIST_ASSESSMENTS_URL=http://localhost:3100/api/assessments/convex/finalize
# Notes:
# - In mock mode on the UI (MOCK_CONVEX=1), finalize route skips Authorization to avoid 401s in tests.
# - For real Convex, set MOCK_CONVEX=0 on the UI and provide CONVEX_URL/NEXT_PUBLIC_CONVEX_URL.
# - If auth is enforced, set PERSIST_ASSESSMENTS_SECRET here and pass the same value to the UI server and tests.
PERSIST_ASSESSMENTS_URL=
# Optional bearer for simple auth (matched by the UI route if configured)
PERSIST_ASSESSMENTS_SECRET=
